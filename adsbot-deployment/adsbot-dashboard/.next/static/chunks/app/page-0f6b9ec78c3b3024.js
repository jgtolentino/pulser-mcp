(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6367:function(e,t,a){Promise.resolve().then(a.bind(a,6641))},6641:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return c}});var s=a(7437),i=a(2265),n=a(3298),r=a(5856),l=a(5251),o=a(2167);function c(){let[e,t]=(0,i.useState)(!1),[a,c]=(0,i.useState)([{id:"1",role:"assistant",content:"Hi! I'm ScoutBot. Ask me anything about your campaigns, forecasts, or creative performance.",timestamp:new Date}]),[d,u]=(0,i.useState)(""),[h,x]=(0,i.useState)(!1),m=(0,i.useRef)(null),f=()=>{var e;null===(e=m.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})};(0,i.useEffect)(()=>{f()},[a]);let p=async e=>{if(e.preventDefault(),!d.trim()||h)return;let t={id:Date.now().toString(),role:"user",content:d,timestamp:new Date};c(e=>[...e,t]),u(""),x(!0);try{let e=await fetch("/api/scoutbot/query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:d})}),t=await e.json(),a={id:(Date.now()+1).toString(),role:"assistant",content:t.answer,timestamp:new Date,data:t.data};c(e=>[...e,a])}catch(t){let e={id:(Date.now()+1).toString(),role:"assistant",content:"Sorry, I encountered an error. Please try again.",timestamp:new Date};c(t=>[...t,e])}finally{x(!1)}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!e),className:"fixed bottom-6 right-6 z-50 bg-blue-600 text-white p-4 rounded-full shadow-lg hover:bg-blue-700 transition-colors",children:(0,s.jsx)(n.Z,{className:"h-6 w-6"})}),(0,s.jsx)(o.M,{children:e&&(0,s.jsxs)(l.E.div,{initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:20},transition:{type:"spring",stiffness:300,damping:25},className:"fixed bottom-24 right-6 z-50 w-96 h-[600px] bg-white rounded-2xl shadow-2xl flex flex-col overflow-hidden",children:[(0,s.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-4 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-xl",children:"\uD83E\uDD16"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold",children:"ScoutBot"}),(0,s.jsx)("p",{className:"text-xs opacity-90",children:"AI Marketing Assistant"})]})]}),(0,s.jsx)("button",{onClick:()=>t(!1),className:"text-white/80 hover:text-white",children:"âœ•"})]}),(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50",children:[a.map(e=>(0,s.jsx)(l.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,s.jsxs)("div",{className:"max-w-[80%] p-3 rounded-xl ".concat("user"===e.role?"bg-blue-600 text-white":"bg-white border border-gray-200"),children:[(0,s.jsx)("p",{className:"text-sm",children:e.content}),e.data&&(0,s.jsx)("div",{className:"mt-2 p-2 bg-gray-100 rounded text-xs",children:(0,s.jsx)("pre",{className:"overflow-x-auto",children:JSON.stringify(e.data,null,2)})})]})},e.id)),h&&(0,s.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},className:"flex justify-start",children:(0,s.jsx)("div",{className:"bg-white border border-gray-200 p-3 rounded-xl",children:(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),(0,s.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce delay-100"}),(0,s.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce delay-200"})]})})}),(0,s.jsx)("div",{ref:m})]}),1===a.length&&(0,s.jsxs)("div",{className:"px-4 py-2 bg-gray-100",children:[(0,s.jsx)("p",{className:"text-xs text-gray-600 mb-2",children:"Try asking:"}),(0,s.jsx)("div",{className:"space-y-1",children:["Which campaign had the highest ROI last quarter?","Show me underperforming creatives","What's the forecast accuracy for Q4?","Compare engagement across campaigns"].map((e,t)=>(0,s.jsx)("button",{onClick:()=>u(e),className:"block w-full text-left text-xs p-2 rounded bg-white hover:bg-gray-50 transition-colors",children:e},t))})]}),(0,s.jsx)("form",{onSubmit:p,className:"p-4 bg-white border-t",children:(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("input",{type:"text",value:d,onChange:e=>u(e.target.value),placeholder:"Ask about campaigns, forecasts, or creatives...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",disabled:h}),(0,s.jsx)("button",{type:"submit",disabled:h||!d.trim(),className:"p-2 bg-blue-600 text-white rounded-full hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,s.jsx)(r.Z,{className:"h-5 w-5"})})]})})]})})]})}}},function(e){e.O(0,[409,971,938,744],function(){return e(e.s=6367)}),_N_E=e.O()}]);